<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Stats Counter — FORMA</title>
<style>
  @import url('https://fonts.googleapis.com/css2?family=Syne:wght@700;800&family=DM+Mono:wght@300;400&display=swap');
  * { margin: 0; padding: 0; box-sizing: border-box; }
  body {
    background: #06060f;
    overflow: hidden; width: 100vw; height: 100vh;
    display: flex; align-items: center; justify-content: center;
    font-family: 'Syne', sans-serif;
  }
  .grid {
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    gap: 2px;
    width: min(700px, 92vw);
  }
  .card {
    background: #0d0d1e;
    padding: 36px 32px;
    position: relative;
    overflow: hidden;
  }
  .card::before {
    content: '';
    position: absolute; inset: 0;
    background: linear-gradient(135deg, var(--accent) 0%, transparent 60%);
    opacity: 0.04;
  }
  .card-border-top {
    position: absolute; top: 0; left: 0; right: 0;
    height: 2px;
    background: linear-gradient(90deg, var(--accent), transparent);
  }
  .label-top {
    font-family: 'DM Mono', monospace;
    font-size: 11px; letter-spacing: 0.2em;
    color: var(--accent); opacity: 0.7;
    text-transform: uppercase; margin-bottom: 14px;
  }
  .number {
    font-size: clamp(42px, 6vw, 72px);
    font-weight: 800; line-height: 1;
    color: #fff;
    letter-spacing: -0.02em;
  }
  .prefix, .suffix {
    font-size: 0.4em; font-weight: 700;
    color: var(--accent); opacity: 0.8;
    vertical-align: top; margin-top: 6px; display: inline-block;
  }
  .suffix { vertical-align: bottom; margin-bottom: 4px; }
  .sublabel {
    font-family: 'DM Mono', monospace;
    font-size: 11px; color: rgba(255,255,255,0.25);
    margin-top: 10px; letter-spacing: 0.05em;
  }
  .bar-wrap {
    margin-top: 16px;
    height: 3px; background: rgba(255,255,255,0.07); border-radius: 2px; overflow: hidden;
  }
  .bar-fill {
    height: 100%;
    background: var(--accent);
    width: 0%;
    border-radius: 2px;
    transition: width 1.8s cubic-bezier(0.16, 1, 0.3, 1);
    box-shadow: 0 0 8px var(--accent);
  }
  .card:nth-child(1) { --accent: #7c6af7; }
  .card:nth-child(2) { --accent: #f76af0; }
  .card:nth-child(3) { --accent: #6af7c8; }
  .card:nth-child(4) { --accent: #f7a46a; }

  canvas { position: fixed; inset: 0; z-index: 0; pointer-events: none; }
  .grid { z-index: 1; position: relative; }
  .label { position: fixed; bottom: 24px; left: 24px; font-family: 'Courier New', monospace; font-size: 11px; letter-spacing: 0.15em; color: rgba(255,255,255,0.2); text-transform: uppercase; z-index: 2; }
</style>
</head>
<body>
<canvas id="bg"></canvas>
<div class="grid">
  <div class="card">
    <div class="card-border-top"></div>
    <div class="label-top">Users</div>
    <div class="number"><span class="prefix"></span><span class="count" data-target="2400000" data-prefix="" data-suffix="M" data-divide="1000000">0</span><span class="suffix">M</span></div>
    <div class="sublabel">+12.4% from last month</div>
    <div class="bar-wrap"><div class="bar-fill" data-pct="78"></div></div>
  </div>
  <div class="card">
    <div class="card-border-top"></div>
    <div class="label-top">Revenue</div>
    <div class="number"><span class="prefix">$</span><span class="count" data-target="8470000" data-divide="1000000" data-decimals="1">0</span><span class="suffix">M</span></div>
    <div class="sublabel">Annual recurring revenue</div>
    <div class="bar-wrap"><div class="bar-fill" data-pct="62"></div></div>
  </div>
  <div class="card">
    <div class="card-border-top"></div>
    <div class="label-top">Uptime</div>
    <div class="number"><span class="count" data-target="99.98" data-decimals="2">0</span><span class="suffix">%</span></div>
    <div class="sublabel">30-day rolling average</div>
    <div class="bar-wrap"><div class="bar-fill" data-pct="99"></div></div>
  </div>
  <div class="card">
    <div class="card-border-top"></div>
    <div class="label-top">Projects</div>
    <div class="number"><span class="count" data-target="12400">0</span><span class="suffix">K</span></div>
    <div class="sublabel">Active deployments</div>
    <div class="bar-wrap"><div class="bar-fill" data-pct="54"></div></div>
  </div>
</div>
<div class="label">Stats Counter · Auto-animate</div>
<script>
// BG
const canvas = document.getElementById('bg');
const ctx = canvas.getContext('2d');
canvas.width = window.innerWidth; canvas.height = window.innerHeight;
ctx.fillStyle = '#06060f'; ctx.fillRect(0,0,canvas.width,canvas.height);

function easeOutExpo(t) { return t === 1 ? 1 : 1 - Math.pow(2, -10*t); }

function animateCount(el) {
  const target = parseFloat(el.dataset.target);
  const divide = parseFloat(el.dataset.divide || 1);
  const decimals = parseInt(el.dataset.decimals || 0);
  const duration = 2000;
  const start = performance.now();
  function step(now) {
    const t = Math.min((now-start)/duration, 1);
    const val = easeOutExpo(t) * target;
    const display = (val/divide);
    el.textContent = display.toFixed(decimals);
    if (t < 1) requestAnimationFrame(step);
    else el.textContent = (target/divide).toFixed(decimals);
  }
  requestAnimationFrame(step);
}

function animateBars() {
  document.querySelectorAll('.bar-fill').forEach(b => {
    setTimeout(() => { b.style.width = b.dataset.pct + '%'; }, 200);
  });
}

// Intersection observer to trigger on view
const observer = new IntersectionObserver(entries => {
  entries.forEach(e => {
    if (e.isIntersecting) {
      document.querySelectorAll('.count').forEach(el => animateCount(el));
      animateBars();
    }
  });
}, { threshold: 0.3 });

document.querySelectorAll('.card').forEach(c => observer.observe(c));

// Also trigger immediately
setTimeout(() => {
  document.querySelectorAll('.count').forEach(el => animateCount(el));
  animateBars();
}, 400);

// Auto replay
setInterval(() => {
  document.querySelectorAll('.count').forEach(el => { el.textContent = '0'; animateCount(el); });
  document.querySelectorAll('.bar-fill').forEach(b => {
    b.style.transition = 'none'; b.style.width = '0%';
    setTimeout(() => { b.style.transition = "width 1.8s cubic-bezier(0.16, 1, 0.3, 1)"; b.style.width = b.dataset.pct + '%'; }, 50);
  });
}, 4000);
</script>
</body>
</html>
