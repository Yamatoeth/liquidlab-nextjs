<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Crystal Orb — FORMA</title>
<style>
  * { margin: 0; padding: 0; box-sizing: border-box; }
  body { background: #05050f; overflow: hidden; width: 100vw; height: 100vh; display: flex; align-items: center; justify-content: center; cursor: none; }
  .scene { width: 400px; height: 400px; perspective: 800px; position: relative; }
  .orb-wrap { width: 100%; height: 100%; transform-style: preserve-3d; animation: spin 12s linear infinite; }
  .ring { position: absolute; top: 50%; left: 50%; transform-style: preserve-3d; border-radius: 50%; border: 1px solid; }
  .core {
    position: absolute; top: 50%; left: 50%;
    width: 120px; height: 120px;
    margin: -60px 0 0 -60px;
    border-radius: 50%;
    background: radial-gradient(circle at 35% 35%, #a0a8ff, #5540ff 50%, #1a0066);
    box-shadow: 0 0 60px 20px rgba(100,80,255,0.4), inset 0 0 30px rgba(200,200,255,0.2);
    animation: pulse 3s ease-in-out infinite;
  }
  .glow {
    position: absolute; top: 50%; left: 50%;
    width: 200px; height: 200px;
    margin: -100px 0 0 -100px;
    border-radius: 50%;
    background: radial-gradient(circle, rgba(100,80,255,0.15) 0%, transparent 70%);
    animation: pulse 3s ease-in-out infinite reverse;
  }
  @keyframes spin { from { transform: rotateY(0deg) rotateX(15deg); } to { transform: rotateY(360deg) rotateX(15deg); } }
  @keyframes pulse { 0%,100% { transform: translate(-50%,-50%) scale(1); opacity:0.8; } 50% { transform: translate(-50%,-50%) scale(1.08); opacity:1; } }
  .label { position: fixed; bottom: 24px; left: 24px; font-family: 'Courier New', monospace; font-size: 11px; letter-spacing: 0.15em; color: rgba(255,255,255,0.25); text-transform: uppercase; }
  canvas { position: fixed; top: 0; left: 0; pointer-events: none; z-index: 0; }
  .scene { z-index: 1; }
</style>
</head>
<body>
<canvas id="bg"></canvas>
<div class="scene">
  <div class="orb-wrap" id="orb">
    <div class="glow"></div>
    <div class="core"></div>
  </div>
</div>
<div class="label">Crystal Orb · Drag to rotate</div>
<script>
// Background particles
const canvas = document.getElementById('bg');
const ctx = canvas.getContext('2d');
canvas.width = window.innerWidth;
canvas.height = window.innerHeight;
window.addEventListener('resize', () => { canvas.width = window.innerWidth; canvas.height = window.innerHeight; });

const pts = Array.from({length: 60}, () => ({
  x: Math.random() * window.innerWidth,
  y: Math.random() * window.innerHeight,
  r: Math.random() * 1.5 + 0.3,
  a: Math.random(),
  speed: Math.random() * 0.005 + 0.002
}));

(function bgLoop() {
  ctx.clearRect(0, 0, canvas.width, canvas.height);
  pts.forEach(p => {
    p.a = 0.3 + Math.sin(Date.now() * p.speed) * 0.3;
    ctx.beginPath();
    ctx.arc(p.x, p.y, p.r, 0, Math.PI*2);
    ctx.fillStyle = `rgba(140,130,255,${p.a})`;
    ctx.fill();
  });
  requestAnimationFrame(bgLoop);
})();

// Generate rings
const orb = document.getElementById('orb');
const RINGS = 7;
for (let i = 0; i < RINGS; i++) {
  const ring = document.createElement('div');
  const size = 160 + i * 28;
  const angle = (i / RINGS) * 180;
  const hue = 220 + i * 15;
  ring.className = 'ring';
  ring.style.cssText = `
    width: ${size}px; height: ${size}px;
    margin: ${-size/2}px 0 0 ${-size/2}px;
    border-color: hsla(${hue}, 80%, 70%, ${0.5 - i * 0.05});
    transform: rotateX(${angle}deg) rotateY(${i * 20}deg);
    box-shadow: 0 0 8px hsla(${hue}, 80%, 70%, 0.2);
  `;
  orb.appendChild(ring);
}

// Drag rotation
const orbWrap = document.querySelector('.orb-wrap');
let dragging = false, lastX = 0, lastY = 0, rotX = 15, rotY = 0, velX = 0, velY = 0.5;
document.addEventListener('mousedown', e => { dragging = true; lastX = e.clientX; lastY = e.clientY; orbWrap.style.animation = 'none'; });
document.addEventListener('mousemove', e => {
  if (!dragging) return;
  velY = (e.clientX - lastX) * 0.4;
  velX = -(e.clientY - lastY) * 0.4;
  rotY += velY; rotX += velX;
  lastX = e.clientX; lastY = e.clientY;
  orbWrap.style.transform = `rotateY(${rotY}deg) rotateX(${rotX}deg)`;
});
document.addEventListener('mouseup', () => dragging = false);
(function inertia() {
  if (!dragging) {
    velX *= 0.95; velY *= 0.95;
    rotX += velX; rotY += velY;
    orbWrap.style.transform = `rotateY(${rotY}deg) rotateX(${rotX}deg)`;
  }
  requestAnimationFrame(inertia);
})();
</script>
</body>
</html>
