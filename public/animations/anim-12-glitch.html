<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Glitch — FORMA</title>
<style>
  @import url('https://fonts.googleapis.com/css2?family=Share+Tech+Mono&family=Teko:wght@700&display=swap');
  * { margin: 0; padding: 0; box-sizing: border-box; }
  body { background: #030305; overflow: hidden; width: 100vw; height: 100vh; display: flex; align-items: center; justify-content: center; }
  .stage { position: relative; text-align: center; user-select: none; }
  .glitch-wrap { position: relative; display: inline-block; }
  .glitch-text {
    font-family: 'Teko', sans-serif;
    font-size: clamp(80px, 18vw, 220px);
    font-weight: 700;
    color: #fff;
    letter-spacing: -0.02em;
    line-height: 1;
    display: block;
    position: relative;
  }
  .glitch-text::before, .glitch-text::after {
    content: attr(data-text);
    position: absolute; top: 0; left: 0;
    width: 100%; height: 100%;
  }
  .glitch-text::before {
    color: #ff006e;
    animation: glitch1 2.5s infinite;
    clip-path: polygon(0 15%, 100% 15%, 100% 30%, 0 30%);
  }
  .glitch-text::after {
    color: #00f5ff;
    animation: glitch2 2.5s infinite;
    clip-path: polygon(0 60%, 100% 60%, 100% 75%, 0 75%);
  }
  @keyframes glitch1 {
    0%,90%,100% { transform: translate(0); opacity: 0; }
    91% { transform: translate(-4px, 1px); opacity: 1; }
    93% { transform: translate(4px, -1px); opacity: 1; }
    95% { transform: translate(-2px, 2px); opacity: 1; clip-path: polygon(0 5%, 100% 5%, 100% 20%, 0 20%); }
    97% { transform: translate(3px, -2px); opacity: 1; clip-path: polygon(0 40%, 100% 40%, 100% 55%, 0 55%); }
    99% { transform: translate(-3px, 1px); opacity: 0.5; }
  }
  @keyframes glitch2 {
    0%,88%,100% { transform: translate(0); opacity: 0; }
    89% { transform: translate(3px, 2px); opacity: 1; }
    92% { transform: translate(-4px, -1px); opacity: 1; }
    94% { transform: translate(4px, 1px); opacity: 1; clip-path: polygon(0 70%, 100% 70%, 100% 85%, 0 85%); }
    96% { transform: translate(-2px, 3px); opacity: 1; clip-path: polygon(0 20%, 100% 20%, 100% 35%, 0 35%); }
    98% { transform: translate(2px, -2px); opacity: 0.5; }
  }

  .sub {
    font-family: 'Share Tech Mono', monospace;
    font-size: clamp(11px, 1.5vw, 14px);
    color: rgba(255,255,255,0.4);
    letter-spacing: 0.25em;
    text-transform: uppercase;
    margin-top: 20px;
    animation: flicker 4s step-end infinite;
  }
  @keyframes flicker {
    0%,98%,100% { opacity: 0.4; }
    99% { opacity: 0; }
  }

  /* Scanlines */
  body::after {
    content: '';
    position: fixed; inset: 0;
    background: repeating-linear-gradient(0deg, transparent, transparent 2px, rgba(0,0,0,0.05) 2px, rgba(0,0,0,0.05) 4px);
    pointer-events: none;
    z-index: 10;
  }
  /* CRT vignette */
  body::before {
    content: '';
    position: fixed; inset: 0;
    background: radial-gradient(ellipse at center, transparent 50%, rgba(0,0,0,0.7) 100%);
    pointer-events: none; z-index: 9;
  }

  canvas { position: fixed; inset: 0; z-index: 0; pointer-events: none; }
  .stage { z-index: 1; }
  .label { position: fixed; bottom: 24px; left: 24px; font-family: 'Courier New', monospace; font-size: 11px; letter-spacing: 0.15em; color: rgba(255,255,255,0.15); text-transform: uppercase; z-index: 11; }

  .noise-overlay {
    position: fixed; inset: 0; z-index: 8; pointer-events: none;
    opacity: 0.04;
    animation: noiseAnim 0.15s steps(1) infinite;
  }
  @keyframes noiseAnim { 0% { background-position: 0 0; } 25% { background-position: -50px 25px; } 50% { background-position: 25px -50px; } 75% { background-position: -25px 50px; } }
</style>
</head>
<body>
<canvas id="c"></canvas>
<div class="stage">
  <div class="glitch-wrap">
    <span class="glitch-text" data-text="SYSTEM" id="gt">SYSTEM</span>
  </div>
  <div class="sub" id="sub">ERROR · CORRUPTED · REBOOT REQUIRED</div>
</div>
<div class="label">Glitch · Hover to trigger</div>
<script>
// BG noise canvas
const canvas = document.getElementById('c');
const ctx = canvas.getContext('2d');
canvas.width = window.innerWidth; canvas.height = window.innerHeight;
window.addEventListener('resize', () => { canvas.width = window.innerWidth; canvas.height = window.innerHeight; });

// Scanline + pixel glitch effect
let glitchActive = false;
let glitchTimer = 0;

function drawNoiseBg() {
  ctx.fillStyle = 'rgba(3,3,5,0.15)';
  ctx.fillRect(0, 0, canvas.width, canvas.height);

  // Random glitch bars
  if (glitchActive) {
    const numBars = Math.floor(Math.random()*6)+1;
    for (let i=0; i<numBars; i++) {
      const y = Math.random() * canvas.height;
      const h = Math.random() * 6 + 1;
      const offset = (Math.random()-0.5)*40;
      ctx.save();
      ctx.globalAlpha = Math.random()*0.3;
      ctx.fillStyle = Math.random() > 0.5 ? 'rgba(255,0,110,0.5)' : 'rgba(0,245,255,0.5)';
      ctx.fillRect(0, y, canvas.width, h);
      ctx.restore();
    }
  }
  requestAnimationFrame(drawNoiseBg);
}
drawNoiseBg();

// Trigger glitch periodically
function triggerGlitch() {
  glitchActive = true;
  setTimeout(() => { glitchActive = false; }, 200 + Math.random()*300);
  setTimeout(triggerGlitch, 2000 + Math.random()*3000);
}
triggerGlitch();

// Words cycle
const words = ['SYSTEM', 'ERROR_', 'BREACH', 'NEURAL', 'CIPHER', 'VECTOR'];
let wi = 0;
const gt = document.getElementById('gt');
setInterval(() => {
  wi = (wi+1)%words.length;
  gt.textContent = words[wi];
  gt.dataset.text = words[wi];
}, 2000);

// Hover
const stage = document.querySelector('.stage');
stage.addEventListener('mouseenter', () => { glitchActive = true; });
stage.addEventListener('mouseleave', () => { glitchActive = false; });
</script>
</body>
</html>
